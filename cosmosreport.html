<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords"
	content="Hawaii, 
Globalization, 
ScienceFiction,
RideAStarShip, 
Coffee,
ZenredComputing"/>

<link href="css/main.css" rel="stylesheet" type="text/css">

<script src="../js/jquery-1.8.1.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../js/jquery.form.js"></script>
<script type="text/javascript" src="../js/buckets.js"></script>
<script type="text/javascript">

/**
 * not static, has to be instantiated
 */
var keyValuePair  = (function(){
	// private
	var key;
	var value;
	
	return{
		setKey : function(s_key){
			key = s_key;
		},
		setValue: function(s_value){
			value = s_value;
		},
		getKey : function(){
			return key;
		},
		getValue : function(){
			return value;
		},
		logPrint: function(){
			console.log("KEY:"+key+" VALUE:"+value);
		}
	}
	
});


$(document).ready(function() {
	processReport.readSectors();
}); <!-- end ready -->

var processReport = (function(){
	
	return{
		readSectors: function (){
			$.getJSON("http://www.johntreddenlocal.com:8080/systemReportChoice.html",
					function(json){           // callback
						console.log("in ReportChoice");
						processReportChoice.jsonProcess(json);
					}
			);
		}
	}
})();

var processReportChoice = (function(){
	
	// public
	
	return {
		jsonProcess: function(json){
			var choiceMessage = json.sectors.sectors;
			var result = orderedPairToArray.getOrderedPair(choiceMessage);
			displayAnchors.anchorsAway(result);
		}
	}
	
})();

var orderedPairToArray = (function (){
	
	return{
		getOrderedPair: function (oneString){
			var result = [];
			var stars = [];
			
			var arrayOfUnsplitOrderedPairs = oneString.toString().split(";");

			for(var idex = 0; idex < arrayOfUnsplitOrderedPairs.length; idex++){
				kvPair = new keyValuePair();
				var kvArray = arrayOfUnsplitOrderedPairs[idex].split("=");
				kvPair.setKey(kvArray[0]);
				kvPair.setValue(kvArray[1]);
				console.log("KVPAIR:"+kvPair.getKey()+"::"+kvPair.getValue());
				result.push(kvPair);
			}
			return result;
		}
	}
})();

var displayAnchors = (function (){
	const numberOfRows = 15;
	const onePage = numberOfRows *3;
	
	function decodeUandV(kvpair){
		var uvSet = kvPair.getValue().split(":");
		return uvSet;
	}
	
	return{
		anchorsAway: function(arrayOfUandVcoordinates){
			for(var idex0 = 0; idex0 < numberOfRows; idex0++){
				var kvPair = arrayOfUandVcoordinates[idex0];
				var uvSet = decodeUandV(kvPair);
				$("div").html("<a href=\"http://www.johntreddenlocal.com:8080/systemReportResults.html?"
						+"s_Ucoordinate_top="+uvSet[0]
						+"&s_Vcoordinate_top="+uvSet[1]
						+"&s_Ucoordinate_bottom="+uvSet[2]
						+"&s_Vcoordinate_bottom="+uvSet[3]
					+"\">"
					+"Ucoordinate_top"+uvSet[0]+
					+"Vcoordinate_top"+uvSet[1]
					+"Ucoordinate_bottom"+uvSet[2]
					+"Ucoordinate_bottom"+uvSet[3]
					+"</a>"
				);
			}
		}
	}

})();

</script>

<title>Cosmos Sector Report Selection</title>
</head>
<body>


<section id="report">
    <div id="column1"></div>
    <div id="column2"></div>
    <div id="column3"></div>
</section>
</body>
</html>